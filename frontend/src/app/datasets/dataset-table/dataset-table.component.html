<div>
  <div style="float: left" class="mode-container">
    <mat-button-toggle-group [value]="mode">
      <mat-button-toggle *ngFor="let aMode of modes" (click)="onModeChange($event, aMode)" [value]="aMode">
        {{aMode | titlecase}}
      </mat-button-toggle>
    </mat-button-toggle-group>

    <span style="padding-left: 1em">
        {{ datasetCount$ | async }} datasets.
    </span>
  </div>

  <div *ngIf="datasets && !(loading$ | async)" style="float: right" class="action-container">
    <button mat-button [disabled]="isEmptySelection$ | async" *ngIf="mode === 'archive'" mat-button class="ui button archive-action-btn" (click)="archiveClickHandle($event)" color="primary">
      <i class="archive icon"></i>
      Archive
    </button>
      
    <button mat-button [disabled]="isEmptySelection$ | async" *ngIf="mode === 'retrieve'" class="ui button retrieve-action-btn" (click)="retrieveClickHandle($event)" color="primary">
      <i class="upload icon"></i>
      Retrieve
    </button>

    <button mat-button class='ui button export-csv' mat-button (click)="onExportClick()" color="primary">
      <i class="table icon"></i>
      Export Page to CSV
    </button>
  </div>

  <div style="clear: both"></div>

  <dataset-table-pure
    [datasets]="datasets$ | async"
    [selectedSets]="selectedSets$ | async"
    [totalNumber]="datasetCount$ | async"
    [currentPage]="currentPage$ | async"
    [rowClassifier]="rowClassifier"
    (onClick)="onClick($event)"
    (onSelect)="onSelect($event)"
    (onDeselect)="onDeselect($event)"
    (onPageChange)="onPageChange($event)"
    (onSortChange)="onSortChange($event)">
  </dataset-table-pure>
</div>