<mat-card *ngIf="facets">
    <h3>
      <u>Filter Results</u>
      <h3 class="results-count">Results: {{resultCount$ | async}}</h3>
    </h3>
  
    <form class="example-form">
      <mat-form-field>
        <input class="location-input" matInput [(ngModel)]="selectedLocation" placeholder="Location" aria-label="Location" [matAutocomplete]="loc" [formControl]="locationInput">
        <mat-autocomplete #loc="matAutocomplete">
          <mat-option class="options" (onSelectionChange)="locSelected(b)" *ngFor="let b of filteredLocations | async" [value]="b._id">
            <span>{{ b._id || 'No Location' }}</span> |
            <small>:{{b.count}}</small>
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
  
      <br />
  
      <mat-form-field>
        <input class='group-input' matInput name="group" [(ngModel)]="selectedGroup" (optionSelected)="groupSelected" placeholder="Group" aria-label="Group"
          [matAutocomplete]="grp" [formControl]="groupInput">
        <mat-autocomplete #grp="matAutocomplete">
          <mat-option class="options" (onSelectionChange)="groupSelected(g)" *ngFor="let g of filteredGroups | async" [value]="g._id">
            <span>{{ g._id || 'No Group' }}</span>
            <small>: {{g.count}}</small>
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
  
      <br />
  
      <mat-form-field>
        <mat-select class="type-input" matInput placeholder="Type" [(value)]="type" name="type" (selectionChange)="typeSelected(type)">
          <mat-option>All</mat-option>
          <mat-option value="raw">Raw</mat-option>
          <mat-option value="derived">Derived</mat-option>
          <mat-option value="base">Base</mat-option>
        </mat-select>
      </mat-form-field>
  
      <br />
  
      <div class="ui field">
        <h3>Date Range</h3>
        <datepicker [selections]="dateSelections$ | async" [datepickerSelector]="datepickerSelector" [datepickerSelectionMode]="dateSelectionMode"
          [placeholder]="'Date Range'" (selectionsChange)="updateDateRange($event)"></datepicker>
      </div>
      <br>
      <button class="ui button clear-filters-btn" (click)="clearFacets()">Clear</button>
  
    </form>
    <br>
  </mat-card>
  