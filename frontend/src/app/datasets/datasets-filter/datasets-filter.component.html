<mat-card *ngIf="facets">
  <h3>
    <u>Filter Results</u>
    <h3>Results: {{resultCount$ | async}}</h3>
  </h3>

  <form class="example-form">
    <mat-form-field class="example-full-width beamline-input">
      <input matInput [(ngModel)]="selectedBeam" placeholder="Source Folder" aria-label="Beamline" [matAutocomplete]="beam" [formControl]="beamlineInput">
      <mat-autocomplete #beam="matAutocomplete">
        <mat-option class="options" (onSelectionChange)="locSelected(b)" *ngFor="let b of filteredBeams | async" [value]="b._id">
          <span>{{ b._id }}</span> |
          <small>:{{b.count}}</small>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <br />
    <mat-form-field class="example-full-width group-input">
      <input matInput name="group" [(ngModel)]="selectedGroup" (optionSelected)="groupSelected" placeholder="Group" aria-label="Group"
        [matAutocomplete]="grp" [formControl]="groupInput">
      <mat-autocomplete #grp="matAutocomplete">
        <mat-option class="options" (onSelectionChange)="groupSelected(g)" *ngFor="let g of filteredGroups | async" [value]="g._id">
          <span>{{ g._id }}</span>
          <small>: {{g.count}}</small>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <br />
    <mat-form-field class="example-full-width type-input">
      <mat-select placeholder="Type" [(ngModel)]="type" name="type" (selectionChange)="typeSelected(type)" [formControl]="typeInput">
        <mat-option>None</mat-option>
        <mat-option value="raw">Raw</mat-option>
        <mat-option value="derived">Derived</mat-option>
        <mat-option value="base">Base</mat-option>
      </mat-select>
    </mat-form-field>
    <div class="ui field">
      <h3>Date Range</h3>
      <datepicker [selections]="dateSelections$ | async" [datepickerSelector]="datepickerSelector" [datepickerSelectionMode]="dateSelectionMode"
        [placeholder]="'Date Range'" (selectionsChange)="updateDateRange($event)"></datepicker>
    </div>
    <br>
    <!--<button type="submit" class="ui button">Filter</button>-->
    <button class="ui button clear-filters-btn" (click)="clearFacets()">Clear</button>
  </form>
  <br>
</mat-card>
