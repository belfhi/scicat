<div *ngIf="logbook">
  <div fxLayout="row" fxLayout.lt-lg="column">
    <div fxFlex="14" style="margin-right: 1em">
      <mat-card class="bigFilter" style="margin: 1em">
        <div class="title">Filter</div>
        <app-search-bar
          (onSearch)="onTextSearchChange($event)"
          (onFocus)="onTextSearchChange($event)"
        ></app-search-bar>
        <logbook-filter
          [logbook]="logbook"
          [filters]="filters"
          (onSelect)="onFilterSelect($event)"
        ></logbook-filter>
      </mat-card>

      <div class="smallFilter">
        <app-search-bar
          (onSearch)="onTextSearchChange($event)"
          (onFocus)="onTextSearchChange($event)"
        ></app-search-bar>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <div class="title">Filter</div>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <logbook-filter
            [logbook]="logbook"
            [filters]="filters"
            (onSelect)="onFilterSelect($event)"
          ></logbook-filter>
        </mat-expansion-panel>
      </div>
      <div fxLayout="column" fxLayout.lt-lg="row">
        <div fxFlex="50">
          <a
            href="{{ appConfig.riotBaseUrl }}/#/room/{{ logbook.roomId }}"
            target="_blank"
            rel="noopener noreferrer"
          >
            <mat-card class="cardButton">
              <i class="material-icons"> chat_bubble_outline </i> Go to chat
            </mat-card>
          </a>
        </div>
        <div class="reverseCard" fxFlex="50">
          <mat-card class="cardButton" (click)="reverseTimeline()">
            <i class="material-icons"> swap_vert </i> Reverse
          </mat-card>
        </div>
      </div>
    </div>
    <div fxFlex="85">
      <mat-card style="margin: 1em; padding: 0">
        <app-logbooks-detail [logbook]="logbook"></app-logbooks-detail>
      </mat-card>
    </div>
  </div>
</div>
<div style="margin: 1em" *ngIf="!logbook">
  Logbook not available.
</div>

<div *ngIf="loading$ | async" class="spinner">
  <mat-spinner></mat-spinner>
</div>
