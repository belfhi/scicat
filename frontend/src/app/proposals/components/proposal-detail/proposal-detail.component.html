<mat-tab-group>
	<mat-tab label="General">
		<div *ngIf="proposal" class="tab-content">
			<table>
				<tr>
					<th>Title</th>
					<td>{{proposal.title}}
				</tr>
				<tr>
					<th>Main proposer</th>
					<td>
						<a href="mailto:{{mainProposer.email}}">{{mainProposer.name}}</a>
					</td>
				</tr>
				<tr *ngIf="principalInvestigator && principalInvestigator.isPresent">
					<th>Principal investigator</th>

					<td *ngIf="principalInvestigator.email; else withoutEmail">
						<a href="mailto:{{principalInvestigator.email}}">{{principalInvestigator.name}}</a>
					</td>
					<ng-template #withoutEmail>
						<td>
							{{principalInvestigator.name}}
						</td>
					</ng-template>
				</tr>
				<tr>
					<th>Abstract</th>
					<td>{{proposal.abstract}}</td>
				</tr>
			</table>
		</div>
	</mat-tab>

	<mat-tab label="Datasets">
		<div class="tab-content">
      <mat-table #table [dataSource]="dataSource" class='dataset-table'>
        <ng-container matColumnDef="pid">
          <mat-header-cell *matHeaderCellDef> PID </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.pid}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="sourceFolder">
          <mat-header-cell *matHeaderCellDef> Source Folder  </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.sourceFolder}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="size">
          <mat-header-cell *matHeaderCellDef> Size  </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.size}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="creationTime">
          <mat-header-cell *matHeaderCellDef> Creation Time </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.creationTime}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="owner">
          <mat-header-cell *matHeaderCellDef> Owner </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.owner}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="ownerEmail">
          <mat-header-cell *matHeaderCellDef> Owner email </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.ownerEmail}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="creationLocation">
          <mat-header-cell *matHeaderCellDef> Location </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.creationLocation}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="type">
          <mat-header-cell *matHeaderCellDef> Type  </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.type}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="dataFormat">
          <mat-header-cell *matHeaderCellDef> Data Format  </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.dataFormat}} </mat-cell>
        </ng-container>
        <ng-container matColumnDef="version">
          <mat-header-cell *matHeaderCellDef> Version  </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.version}} </mat-cell>
        </ng-container>

        <mat-header-row  class='datasets-header' *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row class='row-generic' [ngClass]="calculateRowClasses(row)" *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>
      </div>
	</mat-tab>

	<mat-tab label="Instruments" disabled>
		<div class="tab-content">
			Information on instruments.
		</div>
	</mat-tab>
</mat-tab-group>
