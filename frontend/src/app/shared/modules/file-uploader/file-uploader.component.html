<mat-card appearance="outlined" class="dropzone" appDragAndDrop (fileDropped)="onFileDropped($event)">
  <input
    class="instructions"
    type="file"
    #fileDropRef
    id="fileDropRef"
    accept="image/*,application/pdf"
    multiple
    (change)="onFilePicked($event.target['files'])"
  />
  <div fxLayout="column" style="align-items: center">
    <div class="instructions">Drop a file here</div>
    <div class="instructions">or</div>
    <div class="instructions">
      <button mat-raised-button color="accent" (click)="fileDropRef.click()">
        Browse
      </button>
    </div>
    <div class="instructions font-small">
      Accepted file formats: image/*, application/pdf
    </div>
  </div>
</mat-card>

<mat-card appearance="outlined" class="file-picker">
  <div class="mat-headline-6">
    Choose an image to upload
    <div class="font-small">
      Accepted file formats: image/*, application/pdf
    </div>
  </div>

  <button mat-raised-button color="accent" (click)="fileDropRef.click()">
    Browse
  </button>
</mat-card>

<ng-template ngFor let-attachment [ngForOf]="attachments">
  <mat-card appearance="outlined" class="attachment-card">
    <img src="{{ attachment.thumbnail }}" />
    <mat-card-actions>
      <form (submit)="onSubmitCaption(attachment.id, caption.value)">
        <mat-form-field>
          <input
            matInput
            id="caption"
            placeholder="Edit caption"
            value="{{ attachment.caption }}"
            #caption
          />
        </mat-form-field>
        <button mat-button type="submit" color="primary" class="submit-button">
          Submit
        </button>
      </form>
      <button
        mat-button
        class="download-button"
        (click)="onDownloadAttachment(attachment)"
      >
        <mat-icon>download</mat-icon>
      </button>
      <button
        mat-button
        class="delete-button"
        (click)="onDeleteAttachment(attachment.id)"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</ng-template>
